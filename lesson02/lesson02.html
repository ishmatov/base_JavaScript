<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson 02</title>
</head>
<body>
<script>
    'use strict';
    let goodsCount = 10;

    if (goodsCount > 0) {
        console.log(`Количество товаров в корзине ${goodsCount}`);
    } else {
        console.log('Корзина пуста');
    }

    if (goodsCount > 0) console.log(`Количество товаров в корзине ${goodsCount}`);
    else console.log('Корзина пуста');

    //Тернарные операторы
    goodsCount > 0
        ? console.log(`Количество товаров в корзине ${goodsCount}`) //true
        : console.log('Корзина пуста'); //false

    console.log(goodsCount > 0 ? `Количество товаров в корзине ${goodsCount}` : 'Корзина пуста');

    let result = goodsCount > 0 ? `Количество товаров в корзине ${goodsCount}` : 'Корзина пуста';
    console.log(result);





    let good = 'Яблоки';
    if (good === 'Бананы') {
        console.log('Стоимость бананов 50р.');
    } else {
        if (good === 'Манго') {
            console.log('Стоимость манго 80р.');
        } else {
            if (good === 'Яблоки' || good === 'Груши') {
                console.log('Стоимость яблок и груш 40р.');
            } else {
                console.log('Неизвестный фрукт');
            }
        }
    }

    if (good === 'Бананы') {
        console.log('Стоимость бананов 50р.');
    } else if (good === 'Манго') {
        console.log('Стоимость манго 80р.');
    } else if (good === 'Яблоки' || good === 'Груши') {
        console.log('Стоимость яблок и груш 40р.');
    } else {
        console.log('Неизвестный фрукт');
    }

    switch (good) {
        case 'Бананы':
            console.log('Стоимость бананов 50р.');
            break;
        case 'Манго':
            console.log('Стоимость манго 80р.');
            break;
        case 'Яблоки':
        case 'Груши':
            console.log('Стоимость яблок и груш 40р.');
            break;
        default:
            console.log('Неизвестный фрукт');
    }



    function sayPrice(good) {
        switch (good) {
            case 'Бананы':
                console.log('Стоимость бананов 50р.');
                break;
            case 'Манго':
                console.log('Стоимость манго 80р.');
                break;
            case 'Яблоки':
            case 'Груши':
                console.log('Стоимость яблок и груш 40р.');
                break;
            default:
                console.log('Неизвестный фрукт');
        }
    }
    sayPrice('Бананы');
    sayPrice(good);
    sayPrice();

    function sayPrice2(price = 'неизвестна') {
        console.log(`Стоимость товара ${price}`)
    }
    sayPrice2(1000);
    sayPrice2();

    function getPrice(good) {
        switch (good) {
            case 'Бананы': return 50;
            case 'Манго': return 80;
            case 'Яблоки':
            case 'Груши': return 40;
            default: return null;
        }
    }

    console.log(getPrice('Яблоки'));

    let goodPrice = getPrice(good);
    // let goodPrice = getPrice('asdfasdf');
    goodPrice != null
        ? console.log(`price ${good} = ${goodPrice}`)
        : console.log('Товар не найден');

    function calcPriceByCount(good, quantity = 1) {
        let price = getPrice(good);
        if (price == null) return null;

        return price * quantity;
    }

    console.log(calcPriceByCount(good, 4));
    console.log(calcPriceByCount(good));


    foo(); //Функции доступны и до её оперделения
    function foo() {
        console.log('Hello');
    }
    foo();

    //foo2();//Так уже нельзя
    let foo2 = function () {
        console.log('Hello');
    }
    foo2();
    //Рекурсия
    function recursion(x) {
        if (x <= 0 || !Number.isInteger(x)) return 'Задайте целое число больше 0';
        if (x === 1) return '1';
        return recursion(x - 1) +' ' + x;
    }

    console.log(recursion(100));

    //Игра
    let number;
    let attempts;
    
    function restGame() {
        attempts = 0;
        number = Math.floor(Math.random() * 100);
        console.log(number);
    }

    function tryGuessNumber() {
        let userAnswer = parseInt(prompt('Введите число от 0 до 100 или -1 для выхода: '));

        if (userAnswer === -1) return alert('Bye!');

        if (isNaN(userAnswer)) {
            alert('Необходимо ввести целое число от 0 до 100');
            tryGuessNumber();
            return;
        }

        attempts++;

        if (userAnswer > number) {
            alert('Попробуйте число меньше');
        } else if (userAnswer < number) {
            alert('Попробуйте число больше');
        } else {
            alert(`Вы угадали с ${attempts} попытки(ок). Это число ${number}`);
            if (!confirm('Хотите сыграть ещё?')) return alert('Bye!');
            restGame();
        }
        tryGuessNumber();
    }

    restGame();
    tryGuessNumber();

</script>
</body>
</html>